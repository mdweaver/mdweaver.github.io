---
title: "POLI 110"
author: "Michael Weaver"
date: "February 9, 2021"
output: ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
require(stringr)
require(data.table)
require(ggplot2)
require(magrittr)
```

## Objectives

### (1) **Recap**

- Evaluating Descriptive Claims
- Variables vs. Measures
- Levels of Measurement
- Validity

### (2) **Measurement Error**

- **Bias**
- **Random**
- **Sources** and **Solutions**


# Recap

---

### Question/Claim

**$\not\xrightarrow{}$ Concepts not scientific/irrelevant**

### **Concept** (and dimensions)

$\not\xrightarrow{}$ Variable does not map onto concept **(lack of validity)**

### **Variables**

$\not\xrightarrow{}$ Procedure does not return the true value **(measurement error)**

### **Measure**(s)

$\not\xrightarrow{}$

### "Answer"

---

Variables for "democracy": What are their levels of measurement?

**1**:  In each year, a country receives a "Polity Score" describing  the level of democracy ranging from -10 to +10, with -10 to -6 corresponding to autocracies, -5 to 5 corresponding to anocracies, and 6 to 10 to democracies.

 **2**. The year in which a country first became a democracy

 **3.** Fraction of adults who can are allowed to vote under suffrage rules

 **4** <img src="./cheibub.png" width = 80%>

POLL

---

## Levels of measurement: Practice

Variables for "democracy":

**1. Ordinal**

**2. Interval**

**3. Ratio**

**4. Nominal**

# Example

## Election Fraud

Question: "**Was there was extensive election fraud in the 2020 US Presidential Election?**" 

An Answer: 

<img src="./lott_1.png" width = 100%>

[see here](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3756988)

## Election Fraud

**Concept**: election fraud: manipulations of votes or vote counting by changing the candidate or counting ineligible ballots

<img src="./lott_2.png" width = 100%>


## Election Fraud

**Variable**: Abnormally high voter turnout in constituencies with fraud allegations (would result from higher rates of filling out absentee ballots for people who hadn't voted, dead people voting, ineligible people voting, or even payments to legally registered people for their votes)

<img src="./lott_3.png" width = 100%>

## Election Fraud

**Measure**: Statistically significant difference in turnout (Number of votes cast divided by registered voters according to official election results in US 2020 Presidential election) between counties with fraud accusations vs. others. [see here](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3756988)

<img src="./lott_4.png" width = 100%>

## Election Fraud:

**In small groups:**

1. What problems, if any, are there with the variable?
2. What problems, if any, are there with the measure?

## Variable Problems

<img src="./eggers_1.png" width = 100%>

<img src="./eggers_2.png" width = 100%>

[Eggers et al](https://www.dropbox.com/s/ps5oufevtka3nmf/Fraud.pdf?dl=0)

## Measure Problems

<img src="./eggers_3.png" width = 75%>

## Measure Problems

<img src="./eggers_4.png" width = 75%>


## Example: Problems

Problems with variables $\to$ lack of **validity**

Problems with measure $\to$ **measurement error**

# Measurement Error

## Digression: Histograms

[video explanation here](https://www.khanacademy.org/math/pre-algebra/pre-algebra-math-reasoning/pre-algebra-picture-bar-graphs/v/histograms)

```{r echo = F, warning=F, message=F}

bc_data = fread('./BCCDC_COVID19_Dashboard_Case_Details.csv')
bc_data[, age := str_extract(Age_Group, "\\d\\d$") %>% as.numeric %>% `-` (1)]

ggplot(bc_data, aes(x = age)) + geom_histogram(breaks = seq(0,90,10), col = "white") + theme_bw(base_size = 18) + ggtitle("Histogram of BC COVID Cases by Age") + xlab("Age (Bins)") + ylab("Count (of COVID-19 Cases)")  +
    scale_x_continuous(breaks=seq(0,90,10))
```

---

About how many cases among people between 20 and 30?

About how many cases among people between 40 and 60?

```{r echo = F, warning=F, message=F}
ggplot(bc_data, aes(x = age)) + geom_histogram(breaks = seq(0,90,10), col = "white") + theme_bw(base_size = 18) + ggtitle("Histogram of BC COVID Cases by Age") + xlab("Age (Bins)") + ylab("Count (of COVID-19 Cases)")  +
    scale_x_continuous(breaks=seq(0,90,10))
```

## Measurement Error

#### **Validity** is about link between **variable** and **concept**

<hr style="height:8px; visibility:hidden;" />

#### **Measurement Error** is about link between **measure** and **variable**.

<hr style="height:8px; visibility:hidden;" />


## Measurement Error

What is the severity of the pandemic in BC today?

Let's say a **variable** for pandemic severity is active cases per 100k people.

As of this morning BC CDC reports $3,976$ active cases. Those are the number of people who have tested positive, excluding those who died, [recovered](http://www.bccdc.ca/resource-gallery/Documents/Guidelines%20and%20Forms/Guidelines%20and%20Manuals/Epid/CD%20Manual/Chapter%201%20-%20CDC/2019-nCoV-Interim_Guidelines.pdf), or could not be found for followup. 

That implies $78.4$ active cases per 100k.

POLL

## Measurement Error

### **measurement error**

is a **difference** between the **observed** value of a variable for a case (produced by the measurement procedure) and the **true** value of the variable for that case.

$$\mathrm{Value}_{observed} - \mathrm{Value}_{true} \neq 0 \xrightarrow{then} \mathrm{measurement \ error}$$

If what we observe is **different** from the true value (difference is not 0), then there is measurement **ERROR**

## Measurement Error

$$\mathrm{Active \ Cases }_{observed} - \mathrm{Active \ Cases}_{true} \neq 0$$

$$\xrightarrow{then} \mathrm{measurement \ error}$$

---

### Two varieties of **measurement error**

- **bias**/**systematic measurement error**
- **random measurement error**

Differ in the patterns of $\mathrm{Value}_{observed} - \mathrm{Value}_{true}$ that we see.

Measures may suffer from **both**.

## Measurement Error: Bias

**bias** or **systematic measurement error**: error produced when our measurement procedure obtains values that are, **on average**, too high or too low (or, incorrect) compared to the truth. 

- Key phrase is "on average": error is not a one-off fluke, will happen **systematically** even if you repeat the measurement procedure.
- can have an *upward* (observed value too high) or *downward* (observed value too low) bias
- **not** "politically" biased
- bias might not be the same for all cases or different across subgroups
    - example: economic evaluations and partisanship in surveys

---

<img src=https://content.gallup.com/origin/gallupinc/GallupSpaces/Production/Cms/POLL/jqdpkwv9_uyxmhowjz7gew.png width=100%>

## Measurement Error: Random

**random measurement error**: errors that occur due to *random* features of measurement process or phenomenon. So even if observed values are sometimes wrong, they are, **on average**, correct

- Due to chance, we get values that are too high or too low
- May be lots of errors
- There is no tilt one way or another (no bias)
- In aggregate, values that are "too high" are balanced out by values that are "too low" compared to the truth



## Example

```{r, echo = F, message=F}
require(ggplot2)
n = 10000
x1 = rnorm(n, 0, 0.5) + 1
x2 = rnorm(n, 0, 3)
x3 = rnorm(n, -7, 3)
plot_data = data.frame(Measure = rep(paste0("X",1:3), each = n), value = c(x1, x2, x3))
xlims = range(c(x1,x2, x3))
ggplot(plot_data, aes(value, fill = Measure)) + 
  geom_histogram(bins = 100, alpha = 0.5, position = 'identity') +
  labs(title = 'Different measures of X') + xlab("Observed X - True X") + ylab("Frequency") + 
  theme_bw() +
  geom_vline(xintercept = 0, colour = 'red')
```

POLL

---

### Examples 
We want to know how well people are complying with public health orders, so we ask people questions on a survey.

**$1.$ How many times have you washed your hands with soap today?**

- As a measure of "average number of times a person washes their hands with soap every day" does this suffer from systematic or random measurement error (or both)?

**$2.$ How many times have you entered someone else's household in the past week?**

- As a measure of the "number of times people have violated social distancing rules" does this suffer from systematic or random measurement error (or both)?


